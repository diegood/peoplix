model Collaborator {
  id        String  @id @default(uuid())
  userName  String?
  firstName String  @default("")
  lastName  String  @default("")

  contractedHours Int
  joinDate        DateTime @default(now())
  isActive        Boolean  @default(true)

  systemRole Int @default(2) // 1: Org Admin, 2: User

  userId String
  user   User   @relation(fields: [userId], references: [id])

  organizationId String
  organization   Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  allocations         Allocation[]
  skills              CollaboratorSkill[]
  roles               CollaboratorRole[]
  hardware            Hardware[]
  holidayCalendar     HolidayCalendar?
  customFieldValues   CustomFieldValue[]
  absences            Absence[]
  assignedTasks       Task[]
  taskEstimations     TaskEstimation[]
  skillHistory        CollaboratorSkillHistory[]
  careerObjectives    CollaboratorCareerObjective[]
  vacationDaysPerYear Json? // Stores { "2024": 23, "2025": 25 }

  meetings          CollaboratorMeeting[]
  workingSchedule   Json?
  useCustomSchedule Boolean               @default(false)

  workCenterId String?
  workCenter   WorkCenter? @relation(fields: [workCenterId], references: [id])

  kanbanCards KanbanCard[] @relation("CardAssignees")

  supervisedHierarchies  CollaboratorHierarchy[] @relation("SupervisorHierarchy")
  subordinateHierarchies CollaboratorHierarchy[] @relation("SubordinateHierarchy")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([userId, organizationId])
}
